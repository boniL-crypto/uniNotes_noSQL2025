<!--public/register.html-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Register — UniNotes Portal</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet"/>

  <style>
    :root {
      --accent: #3b82f6; /* blue */
      --muted: #6b7280;
    }
    body {background: linear-gradient(135deg, #4e73df, #1cc88a);}

    html,body {min-height: 100vh; font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .card-ghost { background: rgba(255,255,255,0.85); border: none; box-shadow: 0 10px 30px rgba(15,23,42,0.06); border-radius: 16px; }
    .brand {
      display:flex; align-items:center; gap:.6rem; font-weight:700; color:var(--accent);
    }
    .brand .logo {
      width:44px; height:44px; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg,#60a5fa,#3b82f6); color:white; border-radius:10px; font-weight:700;
      box-shadow: 0 6px 18px rgba(59,130,246,0.18);
    }
    .form-note { font-size: .91rem; color:var(--muted); }
  .avatar-preview { width:84px; height:304px; border-radius:12px; object-fit:cover; background:#f3f4f6; border:1px solid #e6e9ef; display:none; margin-top: 5rem;}
  .avatar-preview.large { width:100%; max-width:420px; aspect-ratio:1/1; object-fit:cover; border-radius:12px; }
  .left-decor { width:100%; height:420px; object-fit:cover; border-radius:8px; display:block; border:1px solid rgba(0,0,0,0.04); }
  .left-col-avatar { display:flex; flex-direction:column; justify-content:center; align-items:center; margin-top:24px; gap:8px; }
  /* make left pane a column; keep tips and decorative image in natural flow, only push the avatar preview down */
  .left-pane .p-3 { display:flex; flex-direction:column; height:100%; }
    .small-muted { font-size:.86rem; color:var(--muted); }
    .btn-primary { background: linear-gradient(90deg,#2563eb,#3b82f6); border: none; }
    .field-required::after { content: "*"; color:#e11d48; margin-left:4px; font-weight:600; font-size:0.9em; }
    .form-footer { font-size:.92rem; color:var(--muted); }
    /* Password checklist styles */
    .password-checklist { list-style:none; margin:.5rem 0 0; padding:0; font-size:.75rem; }
    .password-checklist li { display:flex; align-items:center; gap:.35rem; margin:2px 0; }
    .password-checklist li.ok { color:#059669; }
    .password-checklist li.fail { color:#dc2626; }
    .password-checklist li span.rule-text { flex:1; }
    /* Allow multi-line invalid feedback messages */
    #passwordFeedback div { display:block; }
    /* Ensure invalid state takes precedence over browser/Bootstrap valid styles */
    .form-control.is-invalid, .form-select.is-invalid, textarea.is-invalid {
      border-color: #dc2626 !important;
      box-shadow: 0 0 0 .2rem rgba(220,53,69,.15) !important;
    }
    /* Remove the green checkmark icon for valid fields; keep the green outline */
    .form-control.is-valid, .form-select.is-valid, textarea.is-valid,
    #registerForm .form-control:valid, #registerForm .form-select:valid, #registerForm textarea:valid {
      background-image: none !important;
      background-repeat: no-repeat !important;
    }
  </style>
</head>
<body>
  <div class="container py-5 h-100">
    <div class="row justify-content-center align-items-center h-100">
      <div class="col-md-10 col-lg-9 col-xl-8">
        <div class="card card-ghost p-4 p-md-5">
          <div class="d-flex justify-content-between align-items-start mb-3">
            <div>
              <div class="brand mb-1">
                <div class="logo">UN</div>
                <div style="line-height:1">
                  <div style="font-size:1.05rem">UniNotes</div>
                  <div style="font-size:.85rem; color:var(--muted)">MSU Study Portal</div>
                </div>
              </div>
            </div>
            <div class="text-end small-muted">
              <div>Already have account?</div>
              <a href="/login.html" class="small muted-link">Sign in</a>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6 border-end d-none d-lg-block left-pane">
              <div class="p-3">
              
                <p class="form-note mb-4">Register with your institutional email (must be <strong>@msugensan.edu.ph</strong>).</p>

              
                <div class="small-muted">Tips</div>
                <ul class="small-muted">
                  <li>Use your official university email to register.</li>
                  <li>Keep your profile info accurate so classmates can find you.</li>
                  <li>You can edit profile later in settings.</li>
                </ul>
                  <div class="mb-3">
                    <!-- Decorative tall image to brighten the left side -->
                    <img class="left-decor" src="/uploads/bg/msu2.jpg" alt="decorative image" />
                  </div>
                  <div class="left-col-avatar">
                    <!-- Avatar preview moved here (will be shown when file is selected) -->
                    <img id="avatarPreview" class="avatar-preview large" src="" alt="avatar preview" />
                    <div class="small-muted text-center mt-2">Avatar preview</div>
                  </div>
              </div>
            </div>

            <div class="col-lg-6">
              <div class="p-3">
                <h4 class="mb-3">Sign up</h4>

                <form id="registerForm" novalidate>
                  <div class="row g-2">
                    <div class="col-12 mb-2">
                      <label class="form-label field-required" for="name">Full name</label>
                      <input id="name" name="name" class="form-control" placeholder="Juan L. Cruz " required />
                      <div class="invalid-feedback"></div>
                    </div>

                    <div class="col-12 mb-2">
                      <label class="form-label field-required" for="email">Institutional email</label>
                      <input id="email" name="email" type="email" class="form-control" placeholder="you@msugensan.edu.ph" required />
                      <div class="form-text small-muted">Only <strong>@msugensan.edu.ph</strong> addresses allowed.</div>
                      <div id="emailFeedback" class="invalid-feedback"></div>
                    </div>

                    <div class="col-12 mb-2">
                      <label class="form-label field-required" for="password">Password</label>
                      <div class="input-group">
                        <input id="password" name="password" type="password" class="form-control" minlength="6" placeholder="Create a password" required />
                        <button class="btn btn-outline-secondary" type="button" id="togglePwd" title="Show/hide password">Show</button>
                        <div class="invalid-feedback" id="passwordFeedback"></div>
                      </div>
                     
                    </div>

                    <div class="col-12 mb-2">
                      <label class="form-label field-required" for="confirmPassword">Confirm password</label>
                      <input id="confirmPassword" name="confirmPassword" type="password" class="form-control" required placeholder="Repeat password" />
                      <div id="confirmFeedback" class="invalid-feedback"></div>
                    </div>

                    
                  <div class="col-md-6 mb-2">
                    <label class="form-label field-required" for="college">College</label>
                    <select id="college" name="college" class="form-select" required>
                      <option value="">Select College</option>
                    </select>
                    <div class="invalid-feedback"></div>
                  </div>

                  <div class="col-md-6 mb-2">
                    <label class="form-label field-required" for="course">Course</label>
                    <select id="course" name="course" class="form-select" required>
                      <option value="">Select Course</option>
                    </select>
                    <div class="invalid-feedback"></div>
                  </div>


                    <div class="col-md-6 mb-2">
                      <label class="form-label" for="yearLevel">Year level</label>
                      <select id="yearLevel" name="yearLevel" class="form-select">
                        <option value="">Select year</option>
                        <option>1st Year</option>
                        <option>2nd Year</option>
                        <option>3rd Year</option>
                        <option>4th Year</option>
                        <option>Graduate</option>
                      </select>
                    </div>

                    <div class="col-md-6 mb-2">
                      <label class="form-label field-required" for="studentId">Student ID</label>
                      <input id="studentId" name="studentId" class="form-control" placeholder="2025-1234" required />
                      <div id="studentIdFeedback" class="invalid-feedback"></div>
                    </div>

                    <div class="col-12 mb-2">
                      <label class="form-label" for="contact">Contact number (optional)</label>
                      <input id="contact" name="contact" class="form-control" placeholder="+63 9XX XXX XXXX" />
                      <div id="contactFeedback" class="invalid-feedback"></div>
                    </div>

                    <div class="col-12 mb-2">
                      <label class="form-label" for="bio">Short bio (optional)</label>
                      <textarea id="bio" name="bio" class="form-control" rows="3" placeholder="A short intro about yourself..."></textarea>
                    </div>

                    <div class="col-12 mb-3">
                      <label class="form-label" for="avatar">Avatar (optional)</label>
                      <input id="avatar" name="avatar" type="file" accept="image/*" class="form-control" />
                      <div class="form-text small-muted">Square profile picture works best. Max 2MB recommended.</div>
                    </div>

                    <div class="col-12">
                      <div id="formAlert" class="alert d-none" role="alert"></div>
                      <button id="submitBtn" type="submit" class="btn btn-primary w-100 py-2">
                        Create account
                      </button>
                    </div>

                    <!-- Avatar preview moved to left pane; duplicate removed -->

                    <div class="col-12 mt-3 text-center form-footer">
                        By creating an account you agree to our 
                        <a href="terms.html" target="_blank">Campus Use Policy</a>. <br />
                <small class="text-muted">
                  © 2025 Created by BL.
                </small>
                <div class="mt-2">
                  <a href="#" data-bs-toggle="modal" data-bs-target="#contactModal" class="small muted-link">Contact Us</a>
                </div>
                      </div>
                  </div>
                </form>

              </div>
            </div>
          </div> <!-- row end -->
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS (bundle includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Shared validators -->
  <script src="/js/validators.js"></script>
  <!-- Register Logic -->
  <script type="module" src="/student/js/register.js"></script>
  <script src="/js/contact.js"></script>
</body>
</html>

<!-- Contact Modal (shared) -->
<div class="modal fade" id="contactModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-info text-white">
  <h5 class="modal-title"><i class="bi bi-chat-dots"></i> Contact Us</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <form id="contactForm">
        <div class="modal-body">
          <div class="mb-2">
            <label class="form-label">Your name</label>
            <input id="contactName" class="form-control" required />
          </div>
          <div class="mb-2">
            <label class="form-label">Your email</label>
            <input id="contactEmail" class="form-control" type="email" required />
          </div>
          <div class="mb-2">
            <label class="form-label">Subject (optional)</label>
            <input id="contactSubject" class="form-control" />
          </div>
          <div class="mb-2">
            <label class="form-label">Message</label>
            <textarea id="contactMessage" class="form-control" rows="4" required></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Send Message</button>
        </div>
      </form>
    </div>
  </div>
</div>