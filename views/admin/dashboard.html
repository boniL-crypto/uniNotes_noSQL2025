<!--views/admin/dashboard.html-->


<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>UniNotes Admin</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Main Admin Styles -->
  <link href="/admin/css/admin.css" rel="stylesheet">
  
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">UN</div>
      <div class="brand-text">UniNotes <br><small>Admin Portal</small></div>
      <i class="bi bi-list toggle-btn"></i>
    </div>

    <ul>
      <li><a href="#dashboard-feed" class="active"><i class="bi bi-speedometer2"></i><span>Dashboard</span></a></li>
      <li><a href="#users"><i class="bi bi-people"></i><span>Manage Users</span></a></li>
      <li><a href="#notes"><i class="bi bi-journal-text"></i><span>Manage Notes</span></a></li>
      <li><a href="#reports"><i class="bi bi-flag"></i><span>Reports</span></a></li>
      <li><a href="#colleges"><i class="bi bi-building"></i><span>Colleges</span></a></li>
      <li><a href="#subjects"><i class="bi bi-bookmark"></i><span>Subjects</span></a></li>
      <li><a href="#notifications"><i class="bi bi-megaphone"></i><span>Notifications</span></a></li>
    </ul>

    <a class="logout-btn" id="logoutBtn">
      <i class="bi bi-box-arrow-right"></i><span>Logout</span>
    </a>
  </aside>

  <!-- Content -->
  <div class="content-wrapper">
    <div class="topbar">
      <div class="user-info">
        <img src="/uploads/avatars/default.png"
             id="adminAvatar"
             alt="Admin Avatar"
             onerror="this.src='https://cdn-icons-png.flaticon.com/512/3135/3135715.png'"/>
        <span id="adminName">Admin</span>
      </div>
    </div>
    <main class="main-content" id="adminMain"></main>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/toast.js"></script>
  <script src="/js/validators.js"></script>
  <script src="/admin/js/dashboard.js"></script>
  <script src="/admin/js/admin-profile.js"></script>

  <!-- Admin Profile Modal -->
  <div class="modal fade" id="adminProfileModal" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Profile</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <img id="adminProfileAvatar" src="/uploads/avatars/default.png" alt="avatar" class="rounded-circle mb-3" width="96" height="96" />
          <h6 id="adminProfileName">Admin Name</h6>
          <p id="adminProfileEmail" class="text-muted small mb-3">admin@example.com</p>

          <div class="d-grid gap-2">
            <button id="adminEditProfileBtn" class="btn btn-outline-primary btn-sm" type="button">Edit Profile</button>
            <button id="adminChangePasswordBtn" class="btn btn-outline-secondary btn-sm" type="button">Change Password</button>
            <button id="adminLogoutBtnModal" class="btn btn-danger btn-sm">Logout</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Profile Modal -->
  <div class="modal fade" id="adminEditProfileModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <form id="adminEditProfileForm" enctype="multipart/form-data">
          <div class="modal-header">
            <h5 class="modal-title">Edit Profile</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3 text-center">
              <img id="editProfileAvatarPreview" src="/uploads/avatars/default.png" class="rounded-circle mb-2" width="96" height="96" />
            </div>
            <div class="mb-3">
              <label class="form-label">Name</label>
              <input id="editProfileName" name="name" class="form-control" required />
              <div id="editProfileNameFeedback" class="invalid-feedback"></div>
            </div>
            <div class="mb-3">
              <label class="form-label">Email</label>
              <input id="editProfileEmail" name="email" class="form-control" readonly />
            </div>
            <div class="mb-3">
              <label class="form-label">Avatar</label>
              <input id="editProfileAvatar" name="avatar" type="file" accept="image/*" class="form-control" />
              <div id="editProfileAvatarFeedback" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button id="adminSaveProfileBtn" type="submit" class="btn btn-primary">Save Changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Change Password Modal -->
  <div class="modal fade" id="adminChangePasswordModal" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <form id="adminChangePasswordForm">
          <div class="modal-header">
            <h5 class="modal-title">Change Password</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label class="form-label">Current Password</label>
              <div class="input-group">
                <input id="changeCurrentPassword" type="password" class="form-control" required />
                <button class="btn btn-outline-secondary toggle-password" type="button" aria-label="Show password" data-target="#changeCurrentPassword">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div id="changeCurrentPasswordFeedback" class="invalid-feedback"></div>
            </div>
            <div class="mb-3">
              <label class="form-label">New Password</label>
              <div class="input-group">
                <input id="changeNewPassword" type="password" class="form-control" required />
                <button class="btn btn-outline-secondary toggle-password" type="button" aria-label="Show password" data-target="#changeNewPassword">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div id="changeNewPasswordFeedback" class="invalid-feedback"></div>
            </div>
            <div class="mb-3">
              <label class="form-label">Confirm New Password</label>
              <div class="input-group">
                <input id="changeConfaZZZZZZZZZZZZZFRTTTTTTTTTTTTTdirmPassword" type="password" class="form-control" required />
                <button class="btn btn-outline-secondary toggle-password" type="button" aria-label="Show password" data-target="#changeConfirmPassword">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div id="changeConfirmPasswordFeedback" class="invalid-feedback"></div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary">Change Password</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>
