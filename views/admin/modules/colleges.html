<!--views/admin/modules/colleges.html-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Admin — Colleges</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Bootstrap + icons -->
  <link href="/admin/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Custom for this module -->
  <link href="/admin/css/colleges.css" rel="stylesheet">
</head>
<body>
  <div class="container-fluid page-container module-manage-colleges py-3">
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h4 class="mb-0"><i class="bi bi-building"></i> Manage Colleges</h4>
      <div>
        <button class="btn btn-success" id="btnAddCollege"><i class="bi bi-plus-circle"></i> Add College</button>
      </div>
    </div>

    <div class="card mb-3 p-3">
      <div class="table-responsive">
        <table class="table table-hover align-middle" id="collegesTable">
          <thead class="table-light">
            <tr>
              <th>No.</th>
              <th>College ID</th>
              <th>College Code</th>
              <th>Courses</th>
              <th class="text-center">Actions</th>
            </tr>
          </thead>


          <tbody id="collegesTableBody">
            <tr><td colspan="5" class="text-center">Loading...</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Add/Edit Modal -->
  <div class="modal fade" id="collegeModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <form id="collegeForm" class="modal-content">
        <div class="modal-header">
          <h5 id="collegeModalTitle" class="modal-title">Add College</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <input type="hidden" id="collegeId" value="">
          <div class="row g-3">
            <div class="col-12">
              <label class="form-label">Object ID</label>
              <input id="collegeObjectId" class="form-control" readonly>
            </div>
            <div class="col-md-8">
              <label class="form-label">College Name</label>
              <input id="collegeName" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Abbreviation</label>
              <input id="collegeAbbrev" class="form-control">
            </div>

            <div class="col-12">
              <label class="form-label">Courses (Code + Name)</label>
              <div id="coursesContainer"></div>
              <div class="mt-2">
                <button type="button" class="btn btn-sm btn-outline-primary" id="addCourseBtn">
                  <i class="bi bi-plus-lg"></i> Add course
                </button>
              </div>
              <div class="form-text mt-1">Add course rows here. Click the "×" to remove a course row.</div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button id="saveCollegeBtn" type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-md modal-top">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">

        <h6 class="modal-title mb-0">
          <i class="bi bi-trash3 me-1"></i> Confirm Delete
        </h6>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body py-3 px-4">
        <p id="confirmDeleteText" class="mb-0"></p>
      </div>
      <div class="modal-footer justify-content-end px-4 pb-3">
        <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
        <button id="confirmDeleteBtn" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>



<!-- View College Modal -->
<div class="modal fade" id="viewCollegeModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">View College</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row g-3">
          <div class="col-12">
            <label class="form-label">Object ID</label>
            <input id="viewObjectId" class="form-control" readonly>
          </div>

          <div class="col-md-8">
            <label class="form-label">College Name</label>
            <input id="viewCollegeName" class="form-control" readonly>
          </div>
          <div class="col-md-4">
            <label class="form-label">College Code</label>
            <input id="viewCollegeCode" class="form-control" readonly>
          </div>

          <div class="col-12">
            <label class="form-label">Courses (Code + Name)</label>
            <div id="viewCoursesContainer"></div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>




  <script src="/admin/js/bootstrap.bundle.min.js"></script>
  <script src="/admin/js/colleges.js"></script>
</body>
</html>