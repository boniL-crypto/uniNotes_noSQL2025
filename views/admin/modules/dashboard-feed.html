<!--views/admin/modules/dashboard-feed.html-->


<!-- Chart.js and dashboard-feed.js will be loaded dynamically by dashboard.js -->
<section id="dashboard-feed">
  <h4 class="mb-4"><i class="bi bi-speedometer2"></i> Dashboard Feed</h4>


  <!-- KPI Cards -->
  <div class="row mb-4" id="stats"></div>


  <!-- Row 2: Report / Uploaders / Activity -->
  <div class="row">
    <!-- Report Insights -->
    <div class="col-lg-4 col-md-6 mb-4">
      <div class="card report-insights-card h-100">
        <div class="card-body d-flex flex-column justify-content-center">
          <h5 class="card-title text-center mb-4"><i class="bi bi-flag"></i> Report Insights</h5>
          <div class="chart-wrapper d-flex align-items-center justify-content-center flex-grow-1">
            <canvas id="reportChart"></canvas>
          </div>
        </div>
      </div>
    </div>


    <!-- Top Uploaders + Top Liked Notes -->
    <div class="col-lg-4 col-md-6 mb-4 d-flex flex-column">
      <!-- Top Uploaders -->
      <div class="card mb-3 flex-fill">
        <div class="card-header d-flex justify-content-between align-items-center px-3 py-2">
          <h6 class="card-title mb-0"><i class="bi bi-person-lines-fill"></i> Top Uploaders</h6>
          <input type="date" id="uploaderDateFilter" class="form-control form-control-sm" style="width: 130px;">
        </div>
        <div class="card-body p-3">
          <ul id="topUploaders" class="list-group list-group-flush"></ul>
        </div>
      </div>


      <!-- Top Liked Notes -->
      <div class="card flex-fill">
        <div class="card-header d-flex justify-content-between align-items-center px-3 py-2">
          <h6 class="card-title mb-0"><i class="bi bi-star"></i> Top Liked Notes</h6>
          <input type="date" id="noteDateFilter" class="form-control form-control-sm" style="width: 130px;">
        </div>
        <div class="card-body p-3">
          <ul id="topNotes" class="list-group list-group-flush"></ul>
        </div>
      </div>
    </div>


    <!-- Recent Activity -->
    <div class="col-lg-4 col-md-12 mb-4">
      <div class="card recent-activity-card h-100">
        <div class="card-body">
          <h5 class="card-title"><i class="bi bi-clock-history"></i> Recent Activity</h5>
          <ul class="list-group mt-3" id="recentActivity"></ul>
          <a href="javascript:void(0)" class="d-block mt-3 text-center small text-primary"
             onclick="alert('Full activity log feature coming soon!')">View All Activity</a>
        </div>
      </div>
    </div>
  </div>


  <!-- Row 3: Trends -->
  <div class="row">


    <!-- User Growth Trend -->
    <div class="col-lg-6 mb-4">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title text-center">
            <i class="bi bi-graph-up"></i> User Growth Trend
          </h5>
          <div class="d-flex justify-content-center mb-2 gap-2">
            <input type="date" id="userStartDate" class="form-control form-control-sm" style="width:150px;">
            <input type="date" id="userEndDate" class="form-control form-control-sm" style="width:150px;">
            <button class="btn btn-sm btn-primary" onclick="loadUserGrowthTrend()">Apply</button>
          </div>
          <canvas id="userGrowthChart" class="trend-chart"></canvas>
        </div>
      </div>
    </div>


    <!-- Notes Growth Trend -->
    <div class="col-lg-6 mb-4">
      <div class="card h-100">
        <div class="card-body">
          <h5 class="card-title text-center">
            <i class="bi bi-graph-up-arrow"></i> Notes Growth Trend
          </h5>
          <div class="d-flex justify-content-center mb-2 gap-2">
            <input type="date" id="notesStartDate" class="form-control form-control-sm" style="width:150px;">
            <input type="date" id="notesEndDate" class="form-control form-control-sm" style="width:150px;">
            <button class="btn btn-sm btn-success" onclick="loadNotesGrowthTrend()">Apply</button>
          </div>
          <canvas id="notesGrowthChart" class="trend-chart"></canvas>
        </div>
      </div>
    </div>




  </div>
</section>